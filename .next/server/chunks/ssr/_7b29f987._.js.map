{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/server-reference.ts","../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-validate.ts","../../../../app/actions/submit-quote.ts"],"sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nexport { registerServerReference } from 'react-server-dom-webpack/server'\n","// This function ensures that all the exported values are valid server actions,\n// during the runtime. By definition all actions are required to be async\n// functions, but here we can only check that they are functions.\nexport function ensureServerEntryExports(actions: any[]) {\n  for (let i = 0; i < actions.length; i++) {\n    const action = actions[i]\n    if (typeof action !== 'function') {\n      throw new Error(\n        `A \"use server\" file can only export async functions, found ${typeof action}.\\nRead more: https://nextjs.org/docs/messages/invalid-use-server-value`\n      )\n    }\n  }\n}\n","\"use server\";\r\n\r\nexport interface QuoteFormData {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  phone: string;\r\n  location: string;\r\n  customLocation?: string;\r\n  service: string | null;\r\n  bedrooms: number;\r\n  bathrooms: number;\r\n  additionalServices: string[];\r\n}\r\n\r\nexport interface SubmitQuoteResult {\r\n  success: boolean;\r\n  message: string;\r\n  errors?: Record<string, string>;\r\n}\r\n\r\nexport async function submitQuote(\r\n  data: QuoteFormData\r\n): Promise<SubmitQuoteResult> {\r\n  // Server-side validation\r\n  const errors: Record<string, string> = {};\r\n\r\n  if (!data.firstName || data.firstName.trim().length === 0) {\r\n    errors.firstName = \"First name is required\";\r\n  }\r\n\r\n  if (!data.lastName || data.lastName.trim().length === 0) {\r\n    errors.lastName = \"Last name is required\";\r\n  }\r\n\r\n  if (!data.email || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(data.email)) {\r\n    errors.email = \"Valid email is required\";\r\n  }\r\n\r\n  if (!data.phone || data.phone.trim().length === 0) {\r\n    errors.phone = \"Phone number is required\";\r\n  }\r\n\r\n  if (!data.location || data.location.trim().length === 0) {\r\n    errors.location = \"Location is required\";\r\n  }\r\n\r\n  if (data.location === \"other\" && (!data.customLocation || data.customLocation.trim().length === 0)) {\r\n    errors.customLocation = \"Please specify your location\";\r\n  }\r\n\r\n  if (!data.service) {\r\n    errors.service = \"Please select a service\";\r\n  }\r\n\r\n  if (data.bedrooms < 0) {\r\n    errors.bedrooms = \"Invalid number of bedrooms\";\r\n  }\r\n\r\n  if (data.bathrooms < 1) {\r\n    errors.bathrooms = \"At least one bathroom is required\";\r\n  }\r\n\r\n  if (Object.keys(errors).length > 0) {\r\n    return {\r\n      success: false,\r\n      message: \"Please fix the errors in the form\",\r\n      errors,\r\n    };\r\n  }\r\n\r\n  try {\r\n    // TODO: Integrate with email service (SendGrid, Resend, etc.)\r\n    // TODO: Store in database if needed\r\n    \r\n    // For now, log the submission (in production, this would send an email)\r\n    console.log(\"Quote Request Received:\", {\r\n      ...data,\r\n      submittedAt: new Date().toISOString(),\r\n    });\r\n\r\n    // Simulate email sending\r\n    // In production, replace this with actual email service:\r\n    // await sendEmail({\r\n    //   to: 'support@shalean.com',\r\n    //   subject: `New Quote Request from ${data.firstName} ${data.lastName}`,\r\n    //   body: formatQuoteEmail(data),\r\n    // });\r\n\r\n    return {\r\n      success: true,\r\n      message: \"Quote request submitted successfully! We'll get back to you soon.\",\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error submitting quote:\", error);\r\n    return {\r\n      success: false,\r\n      message: \"An error occurred while submitting your quote. Please try again.\",\r\n    };\r\n  }\r\n}\r\n"],"names":["registerServerReference","ensureServerEntryExports","actions","i","length","action","Error"],"mappings":"6CAAoD,OAAA,cAAA,CAAA,EAAA,aAAA,oCAC3CA,0BAAAA,qCAAAA,EAAAA,uBAAuB,YAAQ,CAAA,CAAA,IAAA,iCCEjC,SAASC,EAAyBC,CAAc,EACrD,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQE,MAAM,CAAED,IAAK,CACvC,IAAME,EAASH,CAAO,CAACC,EAAE,CACzB,GAAsB,YAAlB,AAA8B,OAAvBE,EACT,MAAM,OAAA,cAEL,CAFK,AAAIC,MACR,CAAC,2DAA2D,EAAE,OAAOD,EAAO;AAAA,oEAAuE,CAAC,EADhJ,oBAAA,OAAA,mBAAA,gBAAA,CAEN,EAEJ,CACF,0EATgBJ,2BAAAA,qCAAAA,8CCkBT,eAAe,EACpB,CAAmB,EAGnB,IAAM,EAAiC,CAAC,EAsCxC,GApCI,AAAC,EAAK,SAAS,EAAI,AAAiC,GAAG,GAA/B,SAAS,CAAC,IAAI,GAAG,MAAM,GACjD,EAAO,SAAS,CAAG,wBAAA,EAGjB,AAAC,EAAK,QAAQ,EAAoC,GAAG,CAAnC,EAAK,QAAQ,CAAC,IAAI,GAAG,MAAM,EAC/C,GAAO,QAAQ,CAAG,uBAAA,EAGhB,AAAC,EAAK,KAAK,EAAK,EAAD,2BAA8B,IAAI,CAAC,EAAK,KAAK,GAAG,CACjE,EAAO,KAAK,CAAG,yBAAA,EAGb,AAAC,EAAK,KAAK,EAAiC,GAAG,CAAhC,EAAK,KAAK,CAAC,IAAI,GAAG,MAAM,GACzC,EAAO,KAAK,CAAG,0BAAA,EAGb,AAAC,EAAK,QAAQ,EAAoC,AAAhC,GAAmC,GAA9B,QAAQ,CAAC,IAAI,GAAG,MAAM,GAC/C,EAAO,QAAQ,CAAG,sBAAA,EAGE,UAAlB,CAA6B,CAAxB,QAAQ,EAAiB,AAAC,EAAK,cAAc,EAA0C,CAAC,GAAvC,AAA0C,EAArC,cAAc,CAAC,IAAI,GAAG,MAAM,GACzF,EAAO,cAAc,CAAG,8BAAA,EAGtB,AAAC,EAAK,OAAO,EAAE,CACjB,EAAO,OAAO,CAAG,yBAAA,EAGf,EAAK,QAAQ,CAAG,GAAG,AACrB,GAAO,QAAQ,CAAG,4BAAA,EAGhB,EAAK,SAAS,CAAG,GAAG,CACtB,EAAO,SAAS,CAAG,mCAAA,EAGjB,OAAO,IAAI,CAAC,GAAQ,MAAM,CAAG,EAC/B,CADkC,KAC3B,CACL,SAAS,EACT,QAAS,2CACT,CACF,EAGF,GAAI,CAkBF,OAbA,QAAQ,GAAG,CAAC,0BAA2B,CACrC,GAAG,CAAI,CACP,YAAa,IAAI,OAAO,WAAW,EACrC,GAUO,CACL,SAAS,EACT,QAAS,mEACX,CACF,CAAE,MAAO,EAAO,CAEd,OADA,QAAQ,KAAK,CAAC,0BAA2B,GAClC,CACL,SAAS,EACT,QAAS,kEACX,CACF,CACF,0CA/EsB,IAAA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA","ignoreList":[0,1]}